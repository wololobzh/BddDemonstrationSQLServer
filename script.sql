CREATE DATABASE BddGestionLocations;
GO

USE BddGestionLocations;
GO

DROP TABLE LIGNESFIC;
DROP TABLE ARTICLES;
DROP TABLE FICHES;
DROP TABLE CLIENTS;
DROP TABLE GRILLETARIFS;
DROP TABLE GAMMES;
DROP TABLE CATEGORIES;
DROP TABLE TARIFS;
GO

CREATE TABLE CLIENTS 
(
nocli numeric(6) CONSTRAINT PK_CLIENTS PRIMARY KEY,
nom varchar(30) NOT NULL,
prenom varchar(30) ,
adresse varchar(120) NOT NULL,
cpo char(5) CONSTRAINT CK_CPO CHECK (cpo > 01000 AND cpo < 95999),
ville varchar(80) default 'Nantes'
);
GO

INSERT INTO CLIENTS VALUES(1, 'Albert', 'Anatole', 'Rue des accacias', '61000', 'Amiens');
INSERT INTO CLIENTS VALUES(2, 'Bernard', 'Barnabé', 'Rue du bar', '01001', 'Bourg en Bresse');
INSERT INTO CLIENTS VALUES(3, 'Dupond', 'Camille', 'Rue Crébillon', '44000', DEFAULT);
INSERT INTO CLIENTS VALUES(4, 'Desmoulin', 'Daniel', 'Rue descendante', '21000', 'Dijon');
INSERT INTO CLIENTS VALUES(5, 'Ernest', 'Etienne', 'Rue de l’échaffaud', '42000', 'Saint Étienne');
INSERT INTO CLIENTS VALUES(6, 'Ferdinand', 'François', 'Rue de la convention', '44100', DEFAULT);
INSERT INTO CLIENTS VALUES(9, 'Dupond', 'Jean', 'Rue des mimosas', '75018', 'Paris');
INSERT INTO CLIENTS VALUES(14, 'Boutaud', 'Sabine', 'Rue des platanes', '75002', 'Paris');
INSERT INTO CLIENTS VALUES(20, 'Dubosc', 'Frank', '12 avenue des flots bleus', '76140', 'Petit-Quevilly');
INSERT INTO CLIENTS VALUES(21, 'Boon', 'Dany', '22 rue des Ch''tis', '59280', 'Armentières');
INSERT INTO CLIENTS VALUES(22, 'Elmaleh', 'Gad', '45 rue du sentier', '75001', 'Paris');
INSERT INTO CLIENTS VALUES(23, 'Dujardin', 'Jean', 'rue Brice', '92500', 'Rueil-Malmaison');
INSERT INTO CLIENTS VALUES(24, 'Marceau', 'Sophie', 'Boulevard de la Boom', '75010', 'Paris');
INSERT INTO CLIENTS VALUES(25, 'Merad', 'Kad', 'Rue du petit nicolas', '91130', 'Ris-Orangis');
INSERT INTO CLIENTS VALUES(26, 'Seigner', 'Mathilde', '357 rue du Camping', '75012', 'Paris');
INSERT INTO CLIENTS VALUES(27, 'Reno', 'Jean', '78 Boulevard de Léon', '51200', 'Montmirail');
INSERT INTO CLIENTS VALUES(28, 'Lanvin', 'Gérard', '84 avenue de l''aile ou la cuisse', '92100', 'Boulogne-Billancourt');
INSERT INTO CLIENTS VALUES(29, 'Tautou', 'Audrey', 'rue de Montmartre', '63110', 'Beaumont');
INSERT INTO CLIENTS VALUES(30, 'Cotillard', 'Marion', '45 rue de la Môme', '13001', 'Marseille');
INSERT INTO CLIENTS VALUES(31, 'Duris', 'Romain', '76 rue de l''arnaqueur', '06000', 'Nice');
INSERT INTO CLIENTS VALUES(32, 'Depardieu', 'Gérard', '57 rue du conte de Monté-Cristo', '36000', 'Châteauroux');
INSERT INTO CLIENTS VALUES(33, 'Youn', 'Michaël', 'rue de la beuze', '92150', 'Suresnes');
INSERT INTO CLIENTS VALUES(34, 'Poelvoorde', 'Benoît', '22 rue du Boulet', '22500', 'Paimpol');
INSERT INTO CLIENTS VALUES(35, 'Paradis', 'Vanessa', '12 rue des arnaqueurs', '94100', 'Saint-Maur-des-Fossés');
INSERT INTO CLIENTS VALUES(36, 'Wilson', 'Lambert', '100 rue de Dieu', '92200', 'Neuilly-sur-Seine');
INSERT INTO CLIENTS VALUES(37, 'Garcia', 'José', '65 rue de la vérité', '75001', 'Paris');
INSERT INTO CLIENTS VALUES(38, 'Luchini', 'Fabrice', '73 rue de Beaumarchais', '75016', 'Paris');
INSERT INTO CLIENTS VALUES(39, 'Baye', 'Nathalie', '33 rue de Vénus', '27150', 'Mainneville');
INSERT INTO CLIENTS VALUES(40, 'Magimel', 'Benoît', '47 rue des petits mouchoirs', '33950', 'Lège-Cap-Ferret');
INSERT INTO CLIENTS VALUES(41, 'Cluzet', 'François', '7 rue des apprentis', '75018', 'Paris');
INSERT INTO CLIENTS VALUES(42, 'Frot', 'Catherine', 'rue Odette', '69110', 'Sainte Foy-lès-Lyon');
INSERT INTO CLIENTS VALUES(43, 'Dupontel', 'Albert', '11 impasse de Bernie', '78100', 'Saintermain-en-Laye');
INSERT INTO CLIENTS VALUES(44, 'Huppert', 'Isabelle', '8 rue des femmes', '75002', 'Paris');
INSERT INTO CLIENTS VALUES(45, 'Deneuve', 'Catherine', '12 rue de Rochefort', '50100', 'Cherbourg-Octeville');
INSERT INTO CLIENTS VALUES(46, 'de France', 'Cécile', '17 rue de l''auberge espagnole', '08000', 'Charlesville-Mézières');
GO

CREATE TABLE FICHES
(
noFic numeric(6) CONSTRAINT PK_FICHES PRIMARY KEY,
noCli numeric(6) CONSTRAINT FK_FICHES_CLIENTS REFERENCES CLIENTS(noCli) ON DELETE CASCADE ,
dateCrea datetime default GETDATE(),
datePaye datetime,
etat char(2) default 'EC' CHECK (etat IN ('EC','RE','SO')),--Contrainte de colonne
CONSTRAINT CK_DATEPAYE CHECK(
		(datePaye IS NOT NULL AND etat = 'SO' AND dateCrea < datePaye)
		OR
		(datePaye IS NULL)
	)
);
GO

INSERT INTO fiches VALUES(1001, 14, GETDATE()-15, GETDATE()-13, 'SO');
INSERT INTO fiches VALUES(1002, 4, GETDATE()-13, NULL, DEFAULT);
INSERT INTO fiches VALUES(1003, 1, GETDATE()-12, GETDATE()-10, 'SO');
INSERT INTO fiches VALUES(1004, 6, GETDATE()-11, NULL, DEFAULT);
INSERT INTO fiches VALUES(1005, 3, GETDATE()-10, NULL, DEFAULT);
INSERT INTO fiches VALUES(1006, 9, GETDATE()-10, NULL, 'RE');
INSERT INTO fiches VALUES(1007, 1, GETDATE()-3, NULL, DEFAULT);
INSERT INTO fiches VALUES(1008, 2, DEFAULT, NULL, DEFAULT);
GO

CREATE TABLE GAMMES
(
	codeGam char(5) CONSTRAINT PK_GAMMES PRIMARY KEY,
	libelle varchar(30) NOT NULL CONSTRAINT UQ_LIBELLE_GAMMES UNIQUE
);
GO

INSERT INTO gammes VALUES('PR', 'Matériel Professionnel');
INSERT INTO gammes VALUES('HG', 'Haut de gamme');
INSERT INTO gammes VALUES('MG', 'Moyenne gamme');
INSERT INTO gammes VALUES('EG', 'Entrée de gamme');
GO

CREATE TABLE CATEGORIES
(
	codeCate char(5) CONSTRAINT PK_CATEGORIES PRIMARY KEY,
	libelle varchar(30) NOT NULL CONSTRAINT UQ_LIBELLE_CATEGORIES UNIQUE
);
GO

INSERT INTO categories VALUES('MONO', 'Monoski');
INSERT INTO categories VALUES('SURF', 'Surf');
INSERT INTO categories VALUES('PA', 'Patinette');
INSERT INTO categories VALUES('FOA', 'Ski de fond alternatif');
INSERT INTO categories VALUES('FOP', 'Ski de fond patineur');
INSERT INTO categories VALUES('SA', 'Ski alpin');
GO

CREATE TABLE TARIFS
(
	codeTarif char(5) CONSTRAINT PK_TARIFS PRIMARY KEY,
	libelle varchar(30) NOT NULL CONSTRAINT UQ_LIBELLE_TARIFS UNIQUE,
	prixJour numeric(5,2) NOT NULL CONSTRAINT CK_PRIXJOUR CHECK(prixJour >= 0)
);
GO

INSERT INTO tarifs VALUES('T1', 'Base', 10);
INSERT INTO tarifs VALUES('T2', 'Chocolat', 15);
INSERT INTO tarifs VALUES('T3', 'Bronze', 20);
INSERT INTO tarifs VALUES('T4', 'Argent', 30);
INSERT INTO tarifs VALUES('T5', 'Or', 50);
INSERT INTO tarifs VALUES('T6', 'Platine', 90);
GO

CREATE TABLE GRILLETARIFS
(
	codeGam char(5),
	codeCate char(5),
	codeTarif char(5),
	CONSTRAINT PK_GRILLETARIFS PRIMARY KEY(codeGam,codeCate),
	
	CONSTRAINT FK_GRILLETARIFS_GAMMES FOREIGN KEY(codeGam) REFERENCES GAMMES(codeGam),
	CONSTRAINT FK_GRILLETARIFS_CATEGORIES FOREIGN KEY(codeCate) REFERENCES CATEGORIES(codeCate),
	CONSTRAINT FK_GRILLETARIFS_TARIFS FOREIGN KEY(codeTarif) REFERENCES TARIFS(codeTarif)
);
GO

INSERT INTO grilleTarifs VALUES('EG', 'MONO', 'T1');
INSERT INTO grilleTarifs VALUES('MG', 'MONO', 'T2');
INSERT INTO grilleTarifs VALUES('EG', 'SURF', 'T1');
INSERT INTO grilleTarifs VALUES('MG', 'SURF', 'T2');
INSERT INTO grilleTarifs VALUES('HG', 'SURF', 'T3');
INSERT INTO grilleTarifs VALUES('PR', 'SURF', 'T5');
INSERT INTO grilleTarifs VALUES('EG', 'PA', 'T1');
INSERT INTO grilleTarifs VALUES('MG', 'PA', 'T2');
INSERT INTO grilleTarifs VALUES('EG', 'FOA', 'T1');
INSERT INTO grilleTarifs VALUES('MG', 'FOA', 'T2');
INSERT INTO grilleTarifs VALUES('HG', 'FOA', 'T4');
INSERT INTO grilleTarifs VALUES('PR', 'FOA', 'T6');
INSERT INTO grilleTarifs VALUES('EG', 'FOP', 'T2');
INSERT INTO grilleTarifs VALUES('MG', 'FOP', 'T3');
INSERT INTO grilleTarifs VALUES('HG', 'FOP', 'T4');
INSERT INTO grilleTarifs VALUES('PR', 'FOP', 'T6');
INSERT INTO grilleTarifs VALUES('EG', 'SA', 'T1');
INSERT INTO grilleTarifs VALUES('MG', 'SA', 'T2');
INSERT INTO grilleTarifs VALUES('HG', 'SA', 'T4');
INSERT INTO grilleTarifs VALUES('PR', 'SA', 'T6');
GO

CREATE TABLE ARTICLES
(
	refart char(8) NOT NULL,
	designation varchar(80),
	codeGam char(5),
	codeCate char(5)
);
GO

CREATE TABLE LIGNESFIC
(
	noFic numeric(6),
	noLig numeric(3),
	refart char(8) NOT NULL,
	depart datetime NOT NULL default GETDATE(),
	retour datetime NULL,
	CONSTRAINT PK_LIGNEFIC PRIMARY KEY(noFic,noLig),
	CONSTRAINT CK_DATE CHECK (retour IS NULL OR (retour IS NOT NULL AND retour > depart))
);
GO


ALTER TABLE ARTICLES ADD CONSTRAINT PK_ARTICLES PRIMARY KEY(refart);
ALTER TABLE LIGNESFIC ADD CONSTRAINT FK_LIGNESFIC_ARTICLES FOREIGN KEY(refart) REFERENCES ARTICLES(refart)
ALTER TABLE LIGNESFIC ADD CONSTRAINT FK_LIGNESFIC_FICHES FOREIGN KEY(noFic) REFERENCES FICHES(noFic) ON DELETE CASCADE;
ALTER TABLE ARTICLES ADD CONSTRAINT FK_ARTICLES_GRILLETARIFS FOREIGN KEY(codeGam,codeCate) REFERENCES GRILLETARIFS(codeGam,codeCate)  
GO

INSERT INTO articles VALUES('F01', 'Fischer Cruiser', 'EG', 'FOA');
INSERT INTO articles VALUES('F02', 'Fischer Cruiser', 'EG', 'FOA');
INSERT INTO articles VALUES('F03', 'Fischer Cruiser', 'EG', 'FOA');
INSERT INTO articles VALUES('F04', 'Fischer Cruiser', 'EG', 'FOA');
INSERT INTO articles VALUES('F05', 'Fischer Cruiser', 'EG', 'FOA');
INSERT INTO articles VALUES('F10', 'Fischer Sporty Crown', 'MG', 'FOA');
INSERT INTO articles VALUES('F20', 'Fischer RCS Classic GOLD', 'PR', 'FOA');
INSERT INTO articles VALUES('F21', 'Fischer RCS Classic GOLD', 'PR', 'FOA');
INSERT INTO articles VALUES('F22', 'Fischer RCS Classic GOLD', 'PR', 'FOA');
INSERT INTO articles VALUES('F23', 'Fischer RCS Classic GOLD', 'PR', 'FOA');
INSERT INTO articles VALUES('F50', 'Fischer SOSSkating VASA', 'HG', 'FOP');
INSERT INTO articles VALUES('F60', 'Fischer RCS CARBOLITE Skating', 'PR', 'FOP');
INSERT INTO articles VALUES('F61', 'Fischer RCS CARBOLITE Skating', 'PR', 'FOP');
INSERT INTO articles VALUES('F62', 'Fischer RCS CARBOLITE Skating', 'PR', 'FOP');
INSERT INTO articles VALUES('F63', 'Fischer RCS CARBOLITE Skating', 'PR', 'FOP');
INSERT INTO articles VALUES('F64', 'Fischer RCS CARBOLITE Skating', 'PR', 'FOP');
INSERT INTO articles VALUES('P01', 'Décathlon Allegre junior 150', 'EG', 'PA');
INSERT INTO articles VALUES('P10', 'Fischer mini ski patinette', 'MG', 'PA');
INSERT INTO articles VALUES('P11', 'Fischer mini ski patinette', 'MG', 'PA');
INSERT INTO articles VALUES('S01', 'Décathlon Apparition', 'EG', 'SURF');
INSERT INTO articles VALUES('S02', 'Décathlon Apparition', 'EG', 'SURF');
INSERT INTO articles VALUES('S03', 'Décathlon Apparition', 'EG', 'SURF');
INSERT INTO articles VALUES('A01', 'Salomon 24X+Z12', 'EG', 'SA');
INSERT INTO articles VALUES('A02', 'Salomon 24X+Z12', 'EG', 'SA');
INSERT INTO articles VALUES('A03', 'Salomon 24X+Z12', 'EG', 'SA');
INSERT INTO articles VALUES('A04', 'Salomon 24X+Z12', 'EG', 'SA');
INSERT INTO articles VALUES('A05', 'Salomon 24X+Z12', 'EG', 'SA');
INSERT INTO articles VALUES('A10', 'Salomon Pro Link Equipe 4S', 'PR', 'SA');
INSERT INTO articles VALUES('A11', 'Salomon Pro Link Equipe 4S', 'PR', 'SA');
INSERT INTO articles VALUES('A21', 'Salomon 3V RACE JR+L10', 'PR', 'SA');
GO

INSERT INTO lignesFic VALUES(1001, 1, 'F05', GETDATE()-15, GETDATE()-13);
INSERT INTO lignesFic VALUES(1001, 2, 'F50', GETDATE()-15, GETDATE()-14);
INSERT INTO lignesFic VALUES(1001, 3, 'F60', GETDATE()-13, DATEADD(HH,6,GETDATE()-13));
INSERT INTO lignesFic VALUES(1002, 1, 'A03', GETDATE()-13, GETDATE()-9);
INSERT INTO lignesFic VALUES(1002, 2, 'A04', GETDATE()-12, GETDATE()-7);
INSERT INTO lignesFic VALUES(1002, 3, 'S03', GETDATE()-8, NULL);
INSERT INTO lignesFic VALUES(1003, 1, 'F50', GETDATE()-12, GETDATE()-10);
INSERT INTO lignesFic VALUES(1003, 2, 'F05', GETDATE()-12, GETDATE()-10);
INSERT INTO lignesFic VALUES(1004, 1, 'P01', GETDATE()-6, NULL);
INSERT INTO lignesFic VALUES(1005, 1, 'F05', GETDATE()-10, GETDATE()-5);
INSERT INTO lignesFic VALUES(1005, 2, 'F10', GETDATE()-5, NULL);
INSERT INTO lignesFic VALUES(1006, 1, 'S01', GETDATE()-10, GETDATE()-9);
INSERT INTO lignesFic VALUES(1006, 2, 'S02', GETDATE()-10, GETDATE()-9);
INSERT INTO lignesFic VALUES(1006, 3, 'S03', GETDATE()-10, GETDATE()-9);
INSERT INTO lignesFic VALUES(1007, 1, 'F50', GETDATE()-3, GETDATE()-2);
INSERT INTO lignesFic VALUES(1007, 2, 'F60', GETDATE()-2, NULL);
INSERT INTO lignesFic VALUES(1007, 3, 'F05', GETDATE()-3, NULL);
INSERT INTO lignesFic VALUES(1007, 4, 'S02', DEFAULT, NULL);
INSERT INTO lignesFic VALUES(1008, 1, 'S01', DEFAULT, NULL);
GO

INSERT Fiches VALUES(9909, 20, GETDATE()-284, GETDATE()-282, 'SO');
INSERT LignesFic VALUES(9909, 1, 'A10', GETDATE()-284, DATEADD(HH, 6, GETDATE()-284));
INSERT LignesFic VALUES(9909, 2, 'S01', GETDATE()-284, DATEADD(HH, 6, GETDATE()-282));
INSERT Fiches VALUES(9910, 21, GETDATE()-68, NULL, 'RE');
INSERT LignesFic VALUES(9910, 1, 'P01', GETDATE()-68, DATEADD(HH, 6, GETDATE()-59));
INSERT LignesFic VALUES(9910, 2, 'S01', GETDATE()-68, DATEADD(HH, 6, GETDATE()-65));
INSERT LignesFic VALUES(9910, 3, 'A02', GETDATE()-68, DATEADD(HH, 6, GETDATE()-66));
INSERT LignesFic VALUES(9910, 4, 'F03', GETDATE()-68, DATEADD(HH, 6, GETDATE()-62));
INSERT LignesFic VALUES(9910, 5, 'F22', GETDATE()-68, DATEADD(HH, 6, GETDATE()-63));
INSERT Fiches VALUES(9911, 22, GETDATE()-182, GETDATE()-171, 'SO');
INSERT LignesFic VALUES(9911, 1, 'A04', GETDATE()-182, DATEADD(HH, 6, GETDATE()-176));
INSERT LignesFic VALUES(9911, 2, 'A10', GETDATE()-182, DATEADD(HH, 6, GETDATE()-177));
INSERT LignesFic VALUES(9911, 3, 'P01', GETDATE()-182, DATEADD(HH, 6, GETDATE()-179));
INSERT Fiches VALUES(9912, 23, GETDATE()-355, GETDATE()-342, 'SO');
INSERT LignesFic VALUES(9912, 1, 'F05', GETDATE()-355, DATEADD(HH, 6, GETDATE()-351));
INSERT LignesFic VALUES(9912, 2, 'A04', GETDATE()-355, DATEADD(HH, 6, GETDATE()-352));
INSERT LignesFic VALUES(9912, 3, 'F10', GETDATE()-355, DATEADD(HH, 6, GETDATE()-348));
INSERT Fiches VALUES(9913, 24, GETDATE()-319, NULL, 'RE');
INSERT LignesFic VALUES(9913, 1, 'F23', GETDATE()-319, DATEADD(HH, 6, GETDATE()-316));
INSERT LignesFic VALUES(9913, 2, 'F64', GETDATE()-319, DATEADD(HH, 6, GETDATE()-312));
INSERT LignesFic VALUES(9913, 3, 'F22', GETDATE()-319, DATEADD(HH, 6, GETDATE()-314));
INSERT LignesFic VALUES(9913, 4, 'F02', GETDATE()-319, DATEADD(HH, 6, GETDATE()-315));
INSERT LignesFic VALUES(9913, 5, 'F61', GETDATE()-319, DATEADD(HH, 6, GETDATE()-315));
INSERT Fiches VALUES(9914, 25, GETDATE()-351, GETDATE()-343, 'SO');
INSERT LignesFic VALUES(9914, 1, 'F03', GETDATE()-351, DATEADD(HH, 6, GETDATE()-349));
INSERT LignesFic VALUES(9914, 2, 'A11', GETDATE()-351, DATEADD(HH, 6, GETDATE()-345));
INSERT LignesFic VALUES(9914, 3, 'F22', GETDATE()-351, DATEADD(HH, 6, GETDATE()-350));
INSERT LignesFic VALUES(9914, 4, 'F01', GETDATE()-351, DATEADD(HH, 6, GETDATE()-350));
INSERT Fiches VALUES(9915, 26, GETDATE()-276, GETDATE()-267, 'SO');
INSERT LignesFic VALUES(9915, 1, 'F10', GETDATE()-276, DATEADD(HH, 6, GETDATE()-268));
INSERT LignesFic VALUES(9915, 2, 'F23', GETDATE()-276, DATEADD(HH, 6, GETDATE()-274));
INSERT LignesFic VALUES(9915, 3, 'F64', GETDATE()-276, DATEADD(HH, 6, GETDATE()-274));
INSERT Fiches VALUES(9916, 27, GETDATE()-158, GETDATE()-144, 'SO');
INSERT LignesFic VALUES(9916, 1, 'A11', GETDATE()-158, DATEADD(HH, 6, GETDATE()-150));
INSERT LignesFic VALUES(9916, 2, 'A02', GETDATE()-158, DATEADD(HH, 6, GETDATE()-158));
INSERT LignesFic VALUES(9916, 3, 'A03', GETDATE()-158, DATEADD(HH, 6, GETDATE()-146));
INSERT Fiches VALUES(9917, 28, GETDATE()-266, GETDATE()-258, 'SO');
INSERT LignesFic VALUES(9917, 1, 'P10', GETDATE()-266, DATEADD(HH, 6, GETDATE()-262));
INSERT LignesFic VALUES(9917, 2, 'F01', GETDATE()-266, DATEADD(HH, 6, GETDATE()-261));
INSERT Fiches VALUES(9918, 29, GETDATE()-204, NULL, 'RE');
INSERT LignesFic VALUES(9918, 1, 'A04', GETDATE()-204, DATEADD(HH, 6, GETDATE()-203));
INSERT LignesFic VALUES(9918, 2, 'P11', GETDATE()-204, DATEADD(HH, 6, GETDATE()-203));
INSERT Fiches VALUES(9919, 30, GETDATE()-242, GETDATE()-239, 'SO');
INSERT LignesFic VALUES(9919, 1, 'A04', GETDATE()-242, DATEADD(HH, 6, GETDATE()-240));
INSERT LignesFic VALUES(9919, 2, 'F60', GETDATE()-242, DATEADD(HH, 6, GETDATE()-241));
INSERT LignesFic VALUES(9919, 3, 'S01', GETDATE()-242, DATEADD(HH, 6, GETDATE()-242));
INSERT Fiches VALUES(9920, 31, GETDATE()-283, GETDATE()-281, 'SO');
INSERT LignesFic VALUES(9920, 1, 'A05', GETDATE()-283, DATEADD(HH, 6, GETDATE()-281));
INSERT LignesFic VALUES(9920, 2, 'P01', GETDATE()-283, DATEADD(HH, 6, GETDATE()-283));
INSERT LignesFic VALUES(9920, 3, 'S02', GETDATE()-283, DATEADD(HH, 6, GETDATE()-283));
INSERT Fiches VALUES(9921, 32, GETDATE()-318, NULL, 'RE');
INSERT LignesFic VALUES(9921, 1, 'P11', GETDATE()-318, DATEADD(HH, 6, GETDATE()-315));
INSERT Fiches VALUES(9922, 33, GETDATE()-226, GETDATE()-215, 'SO');
INSERT LignesFic VALUES(9922, 1, 'F02', GETDATE()-226, DATEADD(HH, 6, GETDATE()-220));
INSERT LignesFic VALUES(9922, 2, 'F01', GETDATE()-226, DATEADD(HH, 6, GETDATE()-222));
INSERT LignesFic VALUES(9922, 3, 'A10', GETDATE()-226, DATEADD(HH, 6, GETDATE()-219));
INSERT Fiches VALUES(9923, 34, GETDATE()-214, GETDATE()-210, 'SO');
INSERT LignesFic VALUES(9923, 1, 'A10', GETDATE()-214, DATEADD(HH, 6, GETDATE()-212));
INSERT LignesFic VALUES(9923, 2, 'A01', GETDATE()-214, DATEADD(HH, 6, GETDATE()-211));
INSERT Fiches VALUES(9924, 35, GETDATE()-161, NULL, 'RE');
INSERT LignesFic VALUES(9924, 1, 'A05', GETDATE()-161, DATEADD(HH, 6, GETDATE()-157));
INSERT LignesFic VALUES(9924, 2, 'F23', GETDATE()-161, DATEADD(HH, 6, GETDATE()-161));
INSERT Fiches VALUES(9925, 36, GETDATE()-346, NULL, 'RE');
INSERT LignesFic VALUES(9925, 1, 'P01', GETDATE()-346, DATEADD(HH, 6, GETDATE()-336));
INSERT LignesFic VALUES(9925, 2, 'F04', GETDATE()-346, DATEADD(HH, 6, GETDATE()-334));
INSERT Fiches VALUES(9926, 37, GETDATE()-195, NULL, 'RE');
INSERT LignesFic VALUES(9926, 1, 'A01', GETDATE()-195, DATEADD(HH, 6, GETDATE()-187));
INSERT LignesFic VALUES(9926, 2, 'F23', GETDATE()-195, DATEADD(HH, 6, GETDATE()-195));
INSERT Fiches VALUES(9927, 38, GETDATE()-275, GETDATE()-271, 'SO');
INSERT LignesFic VALUES(9927, 1, 'F02', GETDATE()-275, DATEADD(HH, 6, GETDATE()-274));
INSERT Fiches VALUES(9928, 39, GETDATE()-23, NULL, 'RE');
INSERT LignesFic VALUES(9928, 1, 'F63', GETDATE()-23, DATEADD(HH, 6, GETDATE()-12));
INSERT LignesFic VALUES(9928, 2, 'P11', GETDATE()-23, DATEADD(HH, 6, GETDATE()-13));
INSERT Fiches VALUES(9929, 40, GETDATE()-89, NULL, 'RE');
INSERT LignesFic VALUES(9929, 1, 'P01', GETDATE()-89, DATEADD(HH, 6, GETDATE()-87));
INSERT LignesFic VALUES(9929, 2, 'A04', GETDATE()-89, DATEADD(HH, 6, GETDATE()-88));
INSERT Fiches VALUES(9930, 41, GETDATE()-97, GETDATE()-86, 'SO');
INSERT LignesFic VALUES(9930, 1, 'F02', GETDATE()-97, DATEADD(HH, 6, GETDATE()-95));
INSERT Fiches VALUES(9931, 42, GETDATE()-176, GETDATE()-167, 'SO');
INSERT LignesFic VALUES(9931, 1, 'S01', GETDATE()-176, DATEADD(HH, 6, GETDATE()-174));
INSERT LignesFic VALUES(9931, 2, 'F21', GETDATE()-176, DATEADD(HH, 6, GETDATE()-175));
INSERT LignesFic VALUES(9931, 3, 'F10', GETDATE()-176, DATEADD(HH, 6, GETDATE()-176));
INSERT Fiches VALUES(9932, 43, GETDATE()-245, NULL, 'RE');
INSERT LignesFic VALUES(9932, 1, 'F50', GETDATE()-245, DATEADD(HH, 6, GETDATE()-245));
INSERT LignesFic VALUES(9932, 2, 'A02', GETDATE()-245, DATEADD(HH, 6, GETDATE()-245));
INSERT LignesFic VALUES(9932, 3, 'F63', GETDATE()-245, DATEADD(HH, 6, GETDATE()-244));
INSERT Fiches VALUES(9933, 44, GETDATE()-13, GETDATE()-2, 'SO');
INSERT LignesFic VALUES(9933, 1, 'P11', GETDATE()-13, DATEADD(HH, 6, GETDATE()-2));
INSERT LignesFic VALUES(9933, 2, 'A11', GETDATE()-13, DATEADD(HH, 6, GETDATE()-4));
INSERT LignesFic VALUES(9933, 3, 'F22', GETDATE()-13, DATEADD(HH, 6, GETDATE()-13));
INSERT Fiches VALUES(9934, 45, GETDATE()-306, GETDATE()-302, 'SO');
INSERT LignesFic VALUES(9934, 1, 'P10', GETDATE()-306, DATEADD(HH, 6, GETDATE()-306));
INSERT LignesFic VALUES(9934, 2, 'A11', GETDATE()-306, DATEADD(HH, 6, GETDATE()-306));
INSERT LignesFic VALUES(9934, 3, 'F21', GETDATE()-306, DATEADD(HH, 6, GETDATE()-305));
GO






